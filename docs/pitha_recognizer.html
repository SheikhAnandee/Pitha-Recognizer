---
title: Pitha Recognizer
layout: page
---

<link rel="stylesheet" href="style.css">

<div class="recognizer-container">
  <h2>ü•Æ Pitha Recognizer</h2>
  <p>Upload an image of a Bangladeshi pitha and let AI identify it</p>

  <input id="photo" type="file" accept="image/*">

  <div id="results"></div>
</div>

<script type="module">
  import { Client } from "https://esm.sh/@gradio/client";

  const input = document.getElementById("photo");
  const results = document.getElementById("results");

  const clientPromise = Client.connect("SheikhAnandee/pitha-recognizer");

  input.addEventListener("change", async () => {
    const file = input.files[0];
    if (!file) return;

    results.innerHTML = "‚è≥ Predicting...";

    try {
      const client = await clientPromise;

      const result = await client.predict(0, {
        image: new Blob([file], { type: file.type })
      });

      const label =
        typeof result.data[0] === "string"
          ? result.data[0]
          : result.data[0].label;

      const imgURL = URL.createObjectURL(file);

      results.innerHTML = `
        <img src="${imgURL}" width="350" style="border-radius:12px"/><br><br>
        <strong>Prediction:</strong> ${label}
      `;
    } catch (err) {
      console.error(err);
      results.innerHTML = "‚ùå Prediction failed. Open console for details.";
    }
  });
</script>
